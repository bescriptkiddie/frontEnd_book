<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 1.两数之和
      const nums = [2, 7, 14, 9, 8, 14];
      const target = 15;

      function sumsTwo(arr, target) {
        const len = arr.length;
        let i = 0;
        while (i < len) {
          let current = target - arr[i];
          for (let j = i + 1; j < len; j++) {
            if (arr[j] === current) {
              return [i, j];
            }
          }
          i++;
        }
        return [];
      }

      function sumsTwo1(arr, target) {
        const maps = {};
        const len = arr.length;
        let i = 0;
        while (i < len) {
          let current = target - arr[i];
          if (maps[current] > -1) {
            return [maps[current], i];
          }
          maps[arr[i]] = i;
          i++;
        }
        return [];
      }

      // 2.无重复字符的最长子串 输入: "abcabcbb"; 输出: 3;摄入: "bbbbb"; 输出: 1;
      var str = "pwwkew";

      function getMaxStr(str) {
        let arr = [];
        let max = 0;
        const len = str.length;
        for (let i = 0; i < len; i++) {
          if (arr.indexOf(str[i]) > -1) {
            arr.splice(0, i + 1);
          }
          arr.push(str[i]);
          max = Math.max(arr.length, max);
        }
        return max;
      }
      console.log("getMaxStr", getMaxStr(str));

      // 3.一个矩阵数组中寻找 x 值
      const arr = [[1, 4, 8], [9, 11, 12], [15, 18, 21]];

      function getX(arr, x) {
        if (arr.length === 1) {
          return arr[0].includes(x);
        }
        const len = arr.length;
        const index = Math.floor(len / 2);
        const left = arr.slice(0, index);
        const right = arr.slice(index);
        const leftLast = left[left.length - 1];
        if (leftLast[leftLast.length - 1] < x) {
          return getX(right, x);
        } else if (leftLast[leftLast.length - 1] > x) {
          return getX(left, x);
        } else if (leftLast[leftLast.length - 1] === x) {
          return true;
        }
      }

      console.log(getX(arr, 10));

      // 4.三数求和问题
      let nums1 = [-1, 0, 1, 2, -1, -4];

      function threeSum(nums) {
        const arr = nums.sort((a, b) => a - b);
        console.log(arr);
        let results = [];
        const len = arr.length;
        // 尾指针 i移动指针 j头指针
        for (let i = 0; i < len; i++) {
          let current = arr[i];
          let j = i + 1;
          let k = len - 1;
          // 如果遇到重复的数字，则跳过
          if (i > 0 && arr[i] === arr[i - 1]) {
            continue;
          }
          while (j < k) {
            if (current + arr[j] + arr[k] > 0) {
              k--;
            } else if (current + arr[j] + arr[k] < 0) {
              j++;
            } else {
              results.push([current, arr[j], arr[k]]);
              j++;
              k--;
            }
          }
        }
        return results;
      }
      console.log(threeSum(nums1));
    </script>
  </body>
</html>
